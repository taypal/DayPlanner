<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="dp"></div>
    <div class="container">
    <div class="localstorage">
        <form class="time-block">
              <textarea></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
              <textarea ></textarea>
                <button class="saveBtn">Save</button>
        </form>
                

      
      <!-- Timeblocks go here -->
    </div>
    </div>
    

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="lib/moment/moment.min.js"></script>
    <script>
    
    moment().format('MMMM Do YYYY, h:mm:ss a');
    console.log(moment());

    function save() {
      localStorage.setItem()
    }

var formId = "save-later-form"; 
var url = location.href; 
var formIdentifier = `${url} ${formId}`; 
var saveButton = document.querySelector(".saveBtn"); 
var alertBox = document.querySelector(".alert"); 
var form = document.querySelector(`#${formId}`); 
var formElements = form; 

var getFormData = () => {
  var data = { [formIdentifier]: {} };
  for (var element of formElements) {
    if (element.name.length > 0) {
      data[formIdentifier][element.name] = element.value;
    }
  }
  return data;
};

saveButton.onclick = event => {
  event.preventDefault();
  data = getFormData();
  localStorage.setItem(formIdentifier, JSON.stringify(data[formIdentifier]));
  var message = "Form draft has been saved!";
  displayAlert(message);
};

var displayAlert = message => {
  alertBox.innerText = message;
  alertBox.style.display = "block";
  setTimeout(function() {
    alertBox.style.display = "none";
  }, 1000);
};

var populateForm = () => {
  if (localStorage.key(formIdentifier)) {
    var savedData = JSON.parse(localStorage.getItem(formIdentifier)); 
    for (var element of formElements) {
      if (element.name in savedData) {
        element.value = savedData[element.name];
      }
    }
    var message = "Form has been refilled with saved data!";
    displayAlert(message);
  }
};

document.onload = populateForm(); 


  var hourList = [
    {name:"00",title:"00:00-01:00"},{name:"01",title:"01:00-02:00"},{name:"02",title:"02:00-03:00"},{name:"03",title:"03:00-04:00"},
    {name:"04",title:"04:00-05:00"},{name:"05",title:"05:00-06:00"},{name:"06",title:"06:00-07:00"},{name:"07",title:"07:00-08:00"},
    {name:"08",title:"08:00-09:00"},{name:"09",title:"09:00-10:00"},{name:"10",title:"10:00-11:00"},{name:"11",title:"11:00-12:00"},
    {name:"12",title:"12:00-13:00"},{name:"13",title:"13:00-14:00"},{name:"14",title:"14:00-15:00"},{name:"15",title:"15:00-16:00"},
    {name:"16",title:"16:00-17:00"},{name:"17",title:"17:00-18:00"},{name:"18",title:"18:00-19:00"},{name:"19",title:"19:00-20:00"},
    {name:"20",title:"20:00-21:00"},{name:"21",title:"21:00-22:00"},{name:"22",title:"22:00-23:00"},{name:"23",title:"23:00-00:00"}
];



   function hoursUpdater() {
     var currentHour = moment().hours();
     console.log(currentHour());

     $(".time-block").each(function () {

        var blockHour = parseInt($(this).attr("id").split("-")[1])
        console.log(typeof blockHour);
        console.log(typeof currentHour);

        if (blockHour < currentHour) {
          console.log("Block Hour is before current hour");

        }else if (condition) {

        }else {

        }
     })

     var timeBlock = $(".time-block")
   }
    
    </script>
  
  </body>
</html>